<div class="container">
    <div>
        <h1>ECCOMERCE</h1>
    </div>

    <div id="caja" class="caja">
        <h1>Carrito de Compras</h1>
        {{#each products}}
        <p>{{this.Product.name}} - {{this.product.price}} - {{this.product.category}} - {{this.product.stock}}</p>
        {{/each}}
    </div>


    <button onclick="agregarProductoAlCarrito()">Agregar Producto</button>

    <script>
        function agregarProductoAlCarrito(productId) {
            fetch('http://localhost:8080/api/products/agregarAlCarrito', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({ productId })
            })
                .then(response => {
                    if (response.ok) {
                        console.log('Producto agregado al carrito correctamente')

                    } else {
                        console.error('Error al agregar el producto al carrito')

                    }
                })
                .catch(error => {
                    console.error('Error al enviar la solicitud:', error)

                })
        }
        agregarProductoAlCarrito()

    </script>

</div>